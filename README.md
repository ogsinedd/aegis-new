# Aegis - Система сканирования уязвимостей Docker-контейнеров

Aegis - это комплексное решение для сканирования уязвимостей Docker-контейнеров, которое включает в себя сервер, агент и веб-интерфейс для управления и анализа результатов сканирования.

## Особенности

- Сканирование Docker-контейнеров с использованием Trivy
- Обнаружение и анализ уязвимостей в контейнерах
- Веб-интерфейс для удобного управления и просмотра результатов
- Возможность исправления обнаруженных уязвимостей
- Оценка времени простоя при применении исправлений
- Экспорт отчетов в форматах JSON и CSV

## Требования

- Docker 20.10+
- Docker Compose 2.0+

## Быстрый старт

### Вариант 1: Автоматическая установка

```bash
# Клонирование репозитория
git clone https://github.com/yourusername/aegis.git
cd aegis

# Запуск скрипта установки
chmod +x setup.sh
./setup.sh
```

### Вариант 2: Ручная установка

```bash
# Клонирование репозитория
git clone https://github.com/yourusername/aegis.git
cd aegis

# Создание файла переменных окружения
cp env.example .env

# Сборка и запуск контейнеров
docker-compose build --no-cache
docker-compose up -d
```

После запуска, приложение будет доступно по адресу: http://localhost:3000

## Структура проекта

- `agent/` - Сайдкар-агент для взаимодействия с Docker и сканирования контейнеров
- `backend/` - Серверная часть на FastAPI для обработки данных и API
- `frontend/` - Веб-интерфейс на Next.js/React
- `docs/` - Документация проекта

## Решение проблем

### Проблема с Docker rate limit

Если при сборке возникает ошибка "toomanyrequests", это означает, что вы достигли ограничения на количество скачиваний образов Docker. Вы можете:

1. Авторизоваться в Docker Hub:
   ```bash
   docker login
   ```

2. Использовать альтернативные образы, как уже настроено в нашем Dockerfile

### Проблема с доступом к Docker socket

Если агент не может получить доступ к Docker socket, выполните:

```bash
sudo chmod 666 /var/run/docker.sock
```

## Лицензия

MIT

